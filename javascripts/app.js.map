{"version":3,"sources":["app/templates/artist.eco","app/templates/artist_detail.eco","app/templates/artist_works.eco","app/templates/form.eco","app/templates/form_results.eco","app/javascripts/router.coffee","app/javascripts/bargh.coffee","app/javascripts/h.coffee","app/javascripts/helpers.coffee"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CC/EA;GAAA;kSAAA;;AAAM,CAAN;CAEE;;;;;CAAA;;CAAA,EAEE,GAFF;CAEE,CAAO,EAAP;CAAA,CACmB,EAAnB,EADA,WACA;CAHF;;CAAA,EAKM,CAAN,KAAM;CACH,EAAI,CAAL;CANF,EAKM;;CALN,CAQM,EAAN,KAAO;CACJ,CAAD,CAAK,KAAL;CATF,EAQM;;CARN;;CAFmB,OAAQ;CCA7B;;AAAM,CAAN;CAEE;;CAAA,EAAI,SAAJ;;CAAA,EACG,CADH;;CAAA,EAGM,CAAN,KAAM;CACJ;CAAA,GACA;CACA;CANF,EAGM;;CAHN,EAQc,SAAd;CACE,EAAgB,CAAb,EAAa,KAAhB;CATF,EAQc;;CARd,EAWc,MAAC,GAAf;CACE;CACE,GAAC,CAAD;KADF;CAGC,EAAI,CAAJ,OAAD;CACE,CAAK,CAAL;CAAA,CAEE,EADF;CACE,CA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","file":"public/javascripts/app.js","sourcesContent":["if (typeof JST === 'undefined'){ JST = {} }; JST['artist'] = function (__obj) {\n  if (!__obj) __obj = {};\n  if (window.__reactTagCount == null) window.__reactTagCount = 0;\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __getReactTagValue = function(tag) {\n    var curr = window.__reactTagCount += 1;\n    var sel = 'react-uniq-' + curr;\n    setTimeout(function() {\n      console.log('Append', sel, tag);\n      jQuery('#' + sel).replaceWith(tag);\n    }, 0);\n    return '<b class=\"react-tmp\" id=\"' + sel + '\"></b>';\n  }, __reactify = function(value, isSafe) {\n    if (!(value instanceof rx.SrcCell)) {\n      return isSafe ? value : __sanitize(value);\n    }\n    return __getReactTagValue(rx.rxt.tags.span(rx.bind(function() {\n      var val = value.get();\n      return isSafe ? rx.rxt.rawHtml(val) : __sanitize(val);\n    })));\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<header>\\n  <h2><a href=\"/\">&laquo; butter?</a></h2>\\n</header>\\n<div id=\"artist_detail\">\\n</div>\\n<div id=\"album_list\">\\n  <div id=\"loading\">\\n    <img src=\"/721.GIF\" />\\n  </div>\\n</div>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","if (typeof JST === 'undefined'){ JST = {} }; JST['artist_detail'] = function (__obj) {\n  if (!__obj) __obj = {};\n  if (window.__reactTagCount == null) window.__reactTagCount = 0;\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __getReactTagValue = function(tag) {\n    var curr = window.__reactTagCount += 1;\n    var sel = 'react-uniq-' + curr;\n    setTimeout(function() {\n      console.log('Append', sel, tag);\n      jQuery('#' + sel).replaceWith(tag);\n    }, 0);\n    return '<b class=\"react-tmp\" id=\"' + sel + '\"></b>';\n  }, __reactify = function(value, isSafe) {\n    if (!(value instanceof rx.SrcCell)) {\n      return isSafe ? value : __sanitize(value);\n    }\n    return __getReactTagValue(rx.rxt.tags.span(rx.bind(function() {\n      var val = value.get();\n      return isSafe ? rx.rxt.rawHtml(val) : __sanitize(val);\n    })));\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      var _ref;\n    \n      __out.push('<div>\\n<h1>');\n    \n      __out.push(__sanitize(this.artist.name));\n    \n      __out.push('</h1>\\n<h2>');\n    \n      if (((_ref = this.artist.area) != null ? _ref.name : void 0) != null) {\n        __out.push(' ');\n        __out.push(__sanitize(this.artist.area.name));\n        __out.push(', ');\n        __out.push(__sanitize(this.artist['life-span'].begin));\n        __out.push(' - ');\n        __out.push(__sanitize(this.artist['life-span'].end));\n      }\n    \n      __out.push('</h2>\\n</div>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","if (typeof JST === 'undefined'){ JST = {} }; JST['artist_works'] = function (__obj) {\n  if (!__obj) __obj = {};\n  if (window.__reactTagCount == null) window.__reactTagCount = 0;\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __getReactTagValue = function(tag) {\n    var curr = window.__reactTagCount += 1;\n    var sel = 'react-uniq-' + curr;\n    setTimeout(function() {\n      console.log('Append', sel, tag);\n      jQuery('#' + sel).replaceWith(tag);\n    }, 0);\n    return '<b class=\"react-tmp\" id=\"' + sel + '\"></b>';\n  }, __reactify = function(value, isSafe) {\n    if (!(value instanceof rx.SrcCell)) {\n      return isSafe ? value : __sanitize(value);\n    }\n    return __getReactTagValue(rx.rxt.tags.span(rx.bind(function() {\n      var val = value.get();\n      return isSafe ? rx.rxt.rawHtml(val) : __sanitize(val);\n    })));\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      var album, artist, _i, _j, _len, _len1, _ref, _ref1;\n    \n      __out.push('<div>\\n  ');\n    \n      _ref = this.albums;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        album = _ref[_i];\n        __out.push('\\n    <a class=\"album\" href=\"');\n        __out.push(__sanitize(album.external_urls.spotify));\n        __out.push('\" target=\"_blank\">\\n\\n      <div class=\"inneralbum\">\\n        <img src=\"\" style=\"background-image: url(\\'');\n        __out.push(__sanitize(album.images.length > 0 ? album.images[0].url : 'http://i.dailymail.co.uk/i/pix/2010/08/27/article-1306599-0AEC3259000005DC-640_634x469.jpg'));\n        __out.push('\\')\" />\\n        <h2>');\n        __out.push(__sanitize(album.name));\n        __out.push('</h2>\\n      </div>\\n<!-- \\n      <div class=\"albumartists\">\\n        <p>\\n          ');\n        _ref1 = album.artists;\n        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n          artist = _ref1[_j];\n          __out.push('\\n            <span>');\n          __out.push(__sanitize(artist.name));\n          __out.push('</span>\\n          ');\n        }\n        __out.push('\\n          - ');\n        __out.push(__sanitize(album.release_date.slice(0, 4)));\n        __out.push('\\n        </p>\\n      </div> -->\\n      <!-- <iframe src=\"https://embed.spotify.com/?uri=');\n        __out.push(__sanitize(album.uri));\n        __out.push('\" width=\"640\" height=\"80\" frameborder=\"0\" allowtransparency=\"true\"></iframe> -->\\n      <!-- ');\n        __out.push(__sanitize(JSON.stringify(album.stats)));\n        __out.push(' -->\\n    </a>\\n  ');\n      }\n    \n      __out.push('\\n</div>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","if (typeof JST === 'undefined'){ JST = {} }; JST['form'] = function (__obj) {\n  if (!__obj) __obj = {};\n  if (window.__reactTagCount == null) window.__reactTagCount = 0;\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __getReactTagValue = function(tag) {\n    var curr = window.__reactTagCount += 1;\n    var sel = 'react-uniq-' + curr;\n    setTimeout(function() {\n      console.log('Append', sel, tag);\n      jQuery('#' + sel).replaceWith(tag);\n    }, 0);\n    return '<b class=\"react-tmp\" id=\"' + sel + '\"></b>';\n  }, __reactify = function(value, isSafe) {\n    if (!(value instanceof rx.SrcCell)) {\n      return isSafe ? value : __sanitize(value);\n    }\n    return __getReactTagValue(rx.rxt.tags.span(rx.bind(function() {\n      var val = value.get();\n      return isSafe ? rx.rxt.rawHtml(val) : __sanitize(val);\n    })));\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      __out.push('<header>\\n  <h1>Butter!</h1>\\n\\n  <div class=\"form\">\\n    <input autocomplete=\"off\" placeholder=\"Enter an artist or composer...\" type=\"text\" id=\"query\" value=\"\" class=\"form-control\" />\\n  </div>\\n</header>\\n\\n<div id=\"results\">\\n\\n</div>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","if (typeof JST === 'undefined'){ JST = {} }; JST['form_results'] = function (__obj) {\n  if (!__obj) __obj = {};\n  if (window.__reactTagCount == null) window.__reactTagCount = 0;\n  var __out = [], __capture = function(callback) {\n    var out = __out, result;\n    __out = [];\n    callback.call(this);\n    result = __out.join('');\n    __out = out;\n    return __safe(result);\n  }, __sanitize = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else if (typeof value !== 'undefined' && value != null) {\n      return __escape(value);\n    } else {\n      return '';\n    }\n  }, __getReactTagValue = function(tag) {\n    var curr = window.__reactTagCount += 1;\n    var sel = 'react-uniq-' + curr;\n    setTimeout(function() {\n      console.log('Append', sel, tag);\n      jQuery('#' + sel).replaceWith(tag);\n    }, 0);\n    return '<b class=\"react-tmp\" id=\"' + sel + '\"></b>';\n  }, __reactify = function(value, isSafe) {\n    if (!(value instanceof rx.SrcCell)) {\n      return isSafe ? value : __sanitize(value);\n    }\n    return __getReactTagValue(rx.rxt.tags.span(rx.bind(function() {\n      var val = value.get();\n      return isSafe ? rx.rxt.rawHtml(val) : __sanitize(val);\n    })));\n  }, __safe, __objSafe = __obj.safe, __escape = __obj.escape;\n  __safe = __obj.safe = function(value) {\n    if (value && value.ecoSafe) {\n      return value;\n    } else {\n      if (!(typeof value !== 'undefined' && value != null)) value = '';\n      var result = new String(value);\n      result.ecoSafe = true;\n      return result;\n    }\n  };\n  if (!__escape) {\n    __escape = __obj.escape = function(value) {\n      return ('' + value)\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n    };\n  }\n  (function() {\n    (function() {\n      var artist, _i, _len, _ref;\n    \n      __out.push('<div id=\"artist_results\">\\n  ');\n    \n      _ref = this.artists;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        artist = _ref[_i];\n        __out.push('\\n    <a class=\"artisti\" href=\"/compoz0r/');\n        __out.push(__sanitize(artist.id));\n        __out.push('\">\\n      <img src=\"');\n        __out.push(__sanitize(artist.images.length > 0 ? artist.images[0].url : 'http://i.dailymail.co.uk/i/pix/2010/08/27/article-1306599-0AEC3259000005DC-640_634x469.jpg'));\n        __out.push('\" /><span>');\n        __out.push(__sanitize(artist.name));\n        __out.push('</span>\\n    </a>\\n  ');\n      }\n    \n      __out.push('\\n</div>');\n    \n    }).call(this);\n    \n  }).call(__obj);\n  __obj.safe = __objSafe, __obj.escape = __escape;\n  return __out.join('');\n}","class Router extends Backbone.Router\n\n  routes:\n    # home\n    '(/)': 'home'\n    'compoz0r/:id(/)': 'comp'\n\n  home: ->\n    H.app.home()\n\n  comp: (id) ->\n    H.app.composer(id)","class Bargh\n\n  el: \"#container\"\n  r: null\n\n  home: () ->\n    @initEvents()    \n    @renderSearch()\n    $(\"#loading\").hide()\n\n  renderSearch: ->\n    $(@el).html JST['form']()\n\n  searchArtist: (query) ->\n    if @r?\n      @r.abort()\n\n    @r = $.ajax\n      url: 'https://api.spotify.com/v1/search',\n      data:\n        q: query,\n        limit: 20,\n        type: \"artist\"\n      \n      success: (response) ->\n        console.log response.artists\n        $(\"#results\").html JST['form_results'](artists: response.artists.items)\n\n  initEvents: ->\n    $(\"body\").on \"keyup change\", \"#query\", (e) =>\n      nop e\n      @searchArtist $(\"#query\")[0].value\n      return\n\n\n\n  # COMPOSER VIEW\n  composer: (id) ->\n    @renderArtist()\n    @fetch(id)\n    @results = []\n    @albums = []\n\n  renderArtist: ->\n    $(\"#container\").html JST['artist']()\n    $(\"#container\").on \"mouseover\", \".inneralbum img\", (x) -> \n      x.currentTarget.src = \"http://www.clker.com/cliparts/j/W/O/s/N/o/windows-media-player-play-button-md.png\"\n\n    $(\"#container\").on \"mouseout\", \".inneralbum img\", (x) -> \n      x.currentTarget.src = \"\"\n\n    $(\"#loading\").show()\n\n  fetch: (id) ->\n    $.ajax\n      url: \"https://api.spotify.com/v1/artists/#{id}\"\n      success: (response) =>\n        $(\"#artist_detail\").html JST['artist_detail'](artist: response)\n\n    $.ajax\n      url: \"https://api.spotify.com/v1/artists/#{id}/albums\",\n      data:\n        album_type: \"album\",\n        market: \"US\"\n      success: (response) =>\n        @handleAlbums(response)\n\n  handleAlbums: (response) ->\n    if response.next?\n      @results = @results.concat(_.map(response.items, (x) -> x.id ))\n      @fetchNext(response.next)\n    else\n      console.log(\"Nope\")\n      @results = _.uniq @results\n      if @results.length == 0\n        $(\"#album_list\").html \"<h1 style='margin-left: 40px;'>No results found :(</h1>\"\n      else\n        @fetchAlbumData()\n\n  fetchNext: (url) ->\n    $.ajax\n      url: url\n\n      success: (response) =>\n        @handleAlbums(response)    \n\n  fetchAlbumData: ->\n    console.log @results\n    miau = 0\n    for i in [0...@results.length] by 20\n      albumIds = @results[i...i+20]\n\n      $.ajax \n        url: \"https://api.spotify.com/v1/albums\"\n        data:\n          ids: albumIds.join(\",\")\n\n        success: (response) =>\n          console.log response.albums\n          @albums = @albums.concat response.albums\n          \n          miau+=20\n\n          if miau >= @results.length\n            console.log \"CLA\"\n            @calculatez()\n\n  calculatez: ->\n    for album in @albums\n      album.stats = {}\n\n      album.stats.artist_count = 1 - album.artists.length / 10\n      album.stats.popularity = album.popularity / 10.0\n\n      # Calculate age\n      jetzt = moment().unix()\n      albumdate = moment(album.release_date).unix()\n\n      album.stats.age = 2 * (jetzt - albumdate) / jetzt\n\n      album_artists = []\n      # get number of artists on tracks\n      for track in album.tracks.items\n        album_artists = album_artists.concat track.artists\n\n      album.stats.track_artist_count = 1 - _.uniq(album_artists, (x) -> x.id).length / 10\n    \n      album.stats.sum = album.stats.artist_count + album.stats.age + album.stats.track_artist_count\n\n    @albums = _.sortBy @albums, (x) -> -x.stats.sum\n\n    @renderAlbums()\n\n  renderAlbums: ->\n    $(\"#loading\").hide()\n    $(\"#album_list\").html JST['artist_works'](albums: @albums)\n","window.H =\n  Models: {}\n  Collections: {}\n  Views: {}\n  Routers: {}\n\n  init: ->\n    console.debug 'Routerz'\n    \n    @router = new Router()\n    @app = new Bargh()\n\n    # Initialize History\n    Backbone.history.start(pushState: true, hashChange: false)\n\n\n$(document).ready ->\n  H.init()","window.nop = (e) ->\n  e.preventDefault()"]}